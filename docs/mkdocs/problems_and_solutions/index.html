
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../questions_and_answers/">
      
      
        <link rel="next" href="../getting_help/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.3">
    
    
      
        <title>Problems and Solutions - ADORe Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.79e020e9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#problems-and-solutions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ADORe Documentation" class="md-header__button md-logo" aria-label="ADORe Documentation" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ADORe Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Problems and Solutions
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ADORe Documentation" class="md-nav__button md-logo" aria-label="ADORe Documentation" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    ADORe Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../about_adore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../setup/system_requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../setup/prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../setup/installing_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../setup/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Basic Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../basic_usage/first_scenario/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Your First Scenario
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical Reference Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Technical Reference Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../system_and_development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System and Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../control_system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../system_and_development/doxygen_documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doxygen Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module Quick Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../questions_and_answers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Questions and Answers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Problems and Solutions
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Problems and Solutions
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-during-roslaunch-some-node-cannot-be-found" class="md-nav__link">
    Problem: During roslaunch some node cannot be found
  </a>
  
    <nav class="md-nav" aria-label="Problem: During roslaunch some node cannot be found">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-during-roslaunch-some-node-cannot-be-found" class="md-nav__link">
    Solution: During roslaunch some node cannot be found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-make-error-when-running-make-commands-on-individual-modules" class="md-nav__link">
    Problem: make error when running make commands on individual modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-make-error-when-running-make-commands-on-individual-modules" class="md-nav__link">
    Solution: make error when running make commands on individual modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-build-fails-when-pulling-apt-dependencies" class="md-nav__link">
    Problem: Build fails when pulling apt dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-build-fails-when-pulling-apt-dependencies" class="md-nav__link">
    Solution: Build fails when pulling apt dependencies
  </a>
  
    <nav class="md-nav" aria-label="Solution: Build fails when pulling apt dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brute-force" class="md-nav__link">
    Brute force
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-apt-cacher-broken-packages" class="md-nav__link">
    Clear apt cacher broken packages
  </a>
  
    <nav class="md-nav" aria-label="Clear apt cacher broken packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-apt-cacher-entirely" class="md-nav__link">
    Disable apt cacher entirely
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-make-cli-fails" class="md-nav__link">
    Problem: make cli fails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-install-the-latest-version-of-docker" class="md-nav__link">
    Solution: Install the latest version of docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-you-have-another-problem" class="md-nav__link">
    Do You Have Another Problem?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../getting_help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Help
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../adore_status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADORe Status
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-during-roslaunch-some-node-cannot-be-found" class="md-nav__link">
    Problem: During roslaunch some node cannot be found
  </a>
  
    <nav class="md-nav" aria-label="Problem: During roslaunch some node cannot be found">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-during-roslaunch-some-node-cannot-be-found" class="md-nav__link">
    Solution: During roslaunch some node cannot be found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-make-error-when-running-make-commands-on-individual-modules" class="md-nav__link">
    Problem: make error when running make commands on individual modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-make-error-when-running-make-commands-on-individual-modules" class="md-nav__link">
    Solution: make error when running make commands on individual modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-build-fails-when-pulling-apt-dependencies" class="md-nav__link">
    Problem: Build fails when pulling apt dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-build-fails-when-pulling-apt-dependencies" class="md-nav__link">
    Solution: Build fails when pulling apt dependencies
  </a>
  
    <nav class="md-nav" aria-label="Solution: Build fails when pulling apt dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brute-force" class="md-nav__link">
    Brute force
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-apt-cacher-broken-packages" class="md-nav__link">
    Clear apt cacher broken packages
  </a>
  
    <nav class="md-nav" aria-label="Clear apt cacher broken packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-apt-cacher-entirely" class="md-nav__link">
    Disable apt cacher entirely
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-make-cli-fails" class="md-nav__link">
    Problem: make cli fails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-install-the-latest-version-of-docker" class="md-nav__link">
    Solution: Install the latest version of docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-you-have-another-problem" class="md-nav__link">
    Do You Have Another Problem?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="problems-and-solutions">Problems and Solutions</h1>
<p>This section will offer solutions to known issues.</p>
<h2 id="problem-during-roslaunch-some-node-cannot-be-found">Problem: During roslaunch some node cannot be found</h2>
<p>You run a scenario and roslaunch reports that some node cannot be found. Not
all nodes are built by default on invocation of <code>make cli</code> resulting in some
nodes not being availabe. In this situation you could see an output similar 
to the following:</p>
<pre><code class="language-bash">...
process[vehicle0/tlplotter-17]: started with pid [373]
ERROR: cannot launch node of type [adore_v2x_sim/channel_sim_node]: Cannot locate node of type [channel_sim_node] in package [
adore_v2x_sim]. Make sure file exists in package path and permission is set to executable (chmod +x)                          
ERROR: cannot launch node of type [adore_if_v2x/v2x_trafficlights_node]: Cannot locate node of type [v2x_trafficlights_node] i
n package [adore_if_v2x]. Make sure file exists in package path and permission is set to executable (chmod +x) 
...
</code></pre>
<h3 id="solution-during-roslaunch-some-node-cannot-be-found">Solution: During roslaunch some node cannot be found</h3>
<p>This likely means the node you are trying to use has not been built.</p>
<p>The fix for this is to deliberately build the node you are interested in. In the 
previous example the modules "adore_v2x_sim" and "adore_if_v2x" cannot be found.
One fix is to manually build each
1. cd to the top level of the adore project
2. source the adore.env file into your current interactive shell</p>
<pre><code class="language-bash">source adore.env
</code></pre>
<p>Alternately, you can build all of the modules by invoking the "build_all" target
such as follows:</p>
<pre><code class="language-bash">cd &lt;adore project root directory&gt;
make build_all
</code></pre>
<blockquote>
<p><strong>ℹ️ INFO</strong></p>
<p>By default only <strong>core</strong> ADORe modules are built. Invoke the <code>make build_all</code>
target from the root ADORe directory to build every module.</p>
</blockquote>
<h3 id="problem-make-error-when-running-make-commands-on-individual-modules">Problem: make error when running make commands on individual modules</h3>
<p>I am receiving a similar error message to this when running any make command
on an individual ADORe module:</p>
<pre><code class="language-bash">INFO: To clone submodules use: 'git submodule update --init --recursive'
INFO: To specify alternative path for submodules use: SUBMODULES_PATH=&quot;&lt;path to submodules&gt;&quot; make build'
adore_if_ros_msg.mk:21: *** &quot;ERROR: adore/adore_if_ros_msg/make_gadgets does not exist. Did you clone the submodules?&quot;.  Stop.
</code></pre>
<hr />
<h3 id="solution-make-error-when-running-make-commands-on-individual-modules">Solution: make error when running make commands on individual modules</h3>
<p>This is occurring because by default when cloning adore submodules are not cloned
recursively.</p>
<p>There are three possible solutions</p>
<ol>
<li>source the provided top level adore.env file:</li>
</ol>
<pre><code class="language-bash">adore(master) ✗ (0)&gt; source adore.env
adore(master) ✗ (0)&gt; cd adore_if_ros_msg
adore_if_ros_msg(master) (0)&gt; make help
Usage: make &lt;target&gt;
  build                                    Build adore_if_ros_msg
  clean                                    Clean adore_if_ros_msg build artifacts
  branch_adore_if_ros_msg                  Returns the current docker safe/sanitized branch for adore_if_ros_msg
...
</code></pre>
<ol>
<li>Manually provide the SUBMODULES_PATH when invoking make on a module:</li>
</ol>
<pre><code>adore(master) ✗ (0)&gt; cd adore_if_ros_msg
adore_if_ros_msg(master) (0)&gt;  SUBMODULES_PATH=&quot;$(realpath ..)&quot; make help
Usage: make &lt;target&gt;
  build                                    Build adore_if_ros_msg
  clean                                    Clean adore_if_ros_msg build artifacts
  branch_adore_if_ros_msg                  Returns the current docker safe/sanitized branch for adore_if_ros_msg
</code></pre>
<ol>
<li>Recursively clone all the submodules:</li>
</ol>
<pre><code class="language-bash">adore(master) ✗ (0)&gt; git submodule update --init --recursive
</code></pre>
<p>For more information on this please refer to the <a href="../system_and_development/build_system/">Build System 🔗</a> documentation.</p>
<h3 id="problem-build-fails-when-pulling-apt-dependencies">Problem: Build fails when pulling apt dependencies</h3>
<p>During an initial build there is a significant amount of data that is pulled and 
cached from the internet. In order to lessen this burden the tool AptCacherNg is
used. This added complexity has a drawback if run on an unreliable network 
resulting in non-deterministic HTTP errors and corrupted apt packages and build
failures.</p>
<p>For more information on general caching in adore review the
<a href="../system_and_development/caching/">Caching 🔗</a>
documentation and for more information on how AptCacherNg works visit the
project repository: <a href="https://github.com/DLR-TS/apt_cacher_ng_docker">https://github.com/DLR-TS/apt_cacher_ng_docker 🔗</a></p>
<p>After running <code>make build</code> you receive an HTTP error from APT such as the
following error message:</p>
<pre><code class="language-bash">...
#0 6.829 Get:76 http://archive.ubuntu.com/ubuntu focal/main amd64 g++ amd64 4:9.3.0-1ubuntu2 [1604 B]
#0 6.833 E: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/universe/a/asciidoc/asciidoc-common_9.0.0~rc1-1_all.deb  503  Resource temporarily unavailable [IP: 127.0.0.1 3142]
...
</code></pre>
<p>or</p>
<pre><code class="language-bash">...
=&gt; ERROR [libadore internal] load metadata for docker.io/library/alpine:3.14
=&gt; [libadore internal] load metadata for docker.io/library/libadore_build:1d0db8b
------
 &gt; [libadore internal] load metadata for docker.io/library/alpine:3.14
------
failed to solve: alpine:3.14: failed to do request: Head &quot;https://registry-1.docker.io/v2/library/alpine/manifests/3.14&quot;: dial tcp: lookup registry-1.docker.io on 127.0.0.53:53: server misbehaving
</code></pre>
<h3 id="solution-build-fails-when-pulling-apt-dependencies">Solution: Build fails when pulling apt dependencies</h3>
<p>The following section will offer a few potential solution steps you can take
to get past this issue.</p>
<h4 id="brute-force">Brute force</h4>
<p>Simply rerunning the build command can resolve the issue. Rerun the build or make
command again, if the issue was intermittent it will continue at the previous 
failure point.</p>
<h4 id="clear-apt-cacher-broken-packages">Clear apt cacher broken packages</h4>
<p>On unreliable connections apt cacher packages can become corrupt. This can cause
build errors.</p>
<p>Delete corrupted packages with the apt cacher web interface:</p>
<ol>
<li>navigate to http://127.0.0.1:3142/acng-report.html in your browser </li>
<li>Check the: "Validate by file name AND file directory (use with care)," and "then validate file contents through checksum (SLOW), also detecting corrupt files," check boxes.</li>
<li>Then click the "Start Scan and/or Expiration" button.</li>
<li>Then click "Check all" button. </li>
<li>Then click "Delete selected files" button followed by "Delete now" button and close the web browser.</li>
<li>Rerun the make build command.</li>
</ol>
<h5 id="disable-apt-cacher-entirely">Disable apt cacher entirely</h5>
<p>APT Cacher Ng works with docker by acting as a proxy and handling any request by
apt within the docker engine.  This is accomplished via the <code>DOCKER_CONFIG</code>
environmental variable which by default is not set.  When invoking docker via
make, as with the ADORe build system this environmental variable is set to point
to the AptCacherNg service. To disable AptCacherNg use the following syntax to 
disable it: </p>
<ul>
<li>Disable AptCacherNg for one command:</li>
</ul>
<pre><code class="language-bash">DOCKER_CONFIG= make &lt;target&gt;
</code></pre>
<ul>
<li>Disable AptCacherNg for current interactive shell session:</li>
</ul>
<pre><code class="language-bash">export DOCKER_CONFIG= 
</code></pre>
<p>For more information visit the help page on <a href="../system_and_development/disable_apt_cacher_ng/">Disabling Apt Cacher Ng 🔗</a>
or the apt-cacher-ng-docker project readme: 
<a href="https://github.com/DLR-TS/apt_cacher_ng_docker">https://github.com/DLR-TS/apt_cacher_ng_docker 🔗</a></p>
<h3 id="problem-make-cli-fails">Problem: <code>make cli</code> fails</h3>
<p>When running <code>make cli</code> it fails with error: "ERROR: Cannot extend service"</p>
<pre><code class="language-bash">docker cp $(docker create --rm plotlabserver_build:eeed293):/tmp/plotlabserver/plotlabserver/build &quot;/home/user1/workspace/adore/plotlabserver/plotlabserver&quot;
cd &quot;/home/user1/workspace/adore/adore_cli&quot; &amp;&amp; \
    docker-compose -f /home/user1/workspace/adore/docker-compose.yaml build adore_cli \
                         --build-arg ADORE_CLI_PROJECT=adore_cli \
                         --build-arg ADORE_CLI_PROJECT_X11_DISPLAY=adore_cli_x11-display \
                         --build-arg UID=1000 \
                         --build-arg GID=1000 \
                         --build-arg DOCKER_GID=140 \
                         --build-arg ADORE_IF_ROS_TAG=75edba2 &amp;&amp; \
    docker-compose -f /home/user1/workspace/adore/docker-compose.yaml build adore_cli_x11-display \
                         --build-arg ADORE_CLI_PROJECT=adore_cli \
                         --build-arg ADORE_CLI_PROJECT_X11_DISPLAY=adore_cli_x11-display \
                         --build-arg UID=1000 \
                         --build-arg GID=1000 \
                         --build-arg DOCKER_GID=140 \
                         --build-arg ADORE_CLI_TAG=03ad9e7
ERROR: Cannot extend service 'adore_cli' in /home/user1/workspace/adore/adore_cli/adore_cli.yaml: services with 'depends_on' cannot be extended
make[2]: *** [Makefile:17: build] Error 1
make[1]: *** [adore_cli.mk:100: build_adore_cli] Error 2
make: *** [adore_cli/adore_cli.mk:91: build_fast_adore_cli] Error 2
</code></pre>
<h3 id="solution-install-the-latest-version-of-docker">Solution: Install the latest version of docker</h3>
<p>ADORe depends on <code>docker compose</code> not <code>docker-compose</code> at some point the during
its development history <code>docker-compose</code> was renamed to <code>docker compose</code>. Review
the help guide for <a href="../setup/installing_docker/">Installing Docker 🔗</a> to get a 
newer version of docker.</p>
<h3 id="do-you-have-another-problem">Do You Have Another Problem?</h3>
<p>Have you encountered a problem that is not documented? Create an 
<a href="https://github.com/eclipse/adore/issues">issue 🔗</a>. Chances are if you are 
having an issue someone else will encounter the same issue.  Help the community
and help us document the issues to improve ADORe. We are eager to help you!</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6eac0284.min.js"></script>
      
    
  </body>
</html>